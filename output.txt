.data

.globl __NULL
__NULL: .zero 8


out_of_bounds_msg: .string "out-of-bounds array access"
invalid_alloc_msg: .string "invalid allocation amount"

.text

.globl main
main:
  pushq %rbp
  movq %rsp, %rbp
  subq $128, %rsp
  movq $0, -8(%rbp)
  movq %rbp, %rdi
  addq $-120, %rdi
  movq $14, %rsi
  call _cflat_zero_words
  call _cflat_init_gc
  jmp main_entry

main_entry:
  movq $0, -24(%rbp)
  movq $582300820, -32(%rbp)
  movq $596454822, -40(%rbp)
  movq $59656651, -48(%rbp)
  movq $757447469, -56(%rbp)
  movq $863522110, -64(%rbp)
  movq $-482903986, -72(%rbp)
  movq $-996646422, -80(%rbp)
  movq -120(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl1
  jmp main_lbl2

main_lbl1:
  movq -56(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl4
  jmp main_lbl5

main_lbl10:
  movq -120(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl11
  jmp main_lbl12

main_lbl11:
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -112(%rbp), %r8
  subq -64(%rbp), %r8
  movq %r8, -96(%rbp)
  movq -120(%rbp), %r8
  subq -96(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -112(%rbp), %r8
  subq -120(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -16(%rbp), %r8
  cmpq -120(%rbp), %r8
  movq $0, %r8
  setle %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -112(%rbp)
  jmp main_lbl10

main_lbl12:
  movq -112(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -16(%rbp)
  jmp main_lbl6

main_lbl13:
  movq -24(%rbp), %r8
  subq -112(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl14
  jmp main_lbl15

main_lbl14:
  movq -48(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl16
  jmp main_lbl17

main_lbl15:
  jmp main_lbl3

main_lbl16:
  movq -16(%rbp), %r8
  movq %r8, -96(%rbp)
  jmp main_lbl18

main_lbl17:
  movq -24(%rbp), %r8
  movq %r8, -96(%rbp)
  jmp main_lbl18

main_lbl18:
  movq -24(%rbp), %r8
  subq -96(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -112(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -96(%rbp)
  movq -24(%rbp), %r8
  subq -96(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -112(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -24(%rbp), %r8
  subq -16(%rbp), %r8
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -104(%rbp)
  movq -24(%rbp), %r8
  subq -104(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %rax
  jmp main_epilogue

main_lbl19:
  movq -120(%rbp), %r8
  movq %r8, -88(%rbp)
  jmp main_lbl20

main_lbl2:
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -32(%rbp), %r8
  cmpq -16(%rbp), %r8
  movq $0, %r8
  setle %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -120(%rbp), %r8
  cmpq -120(%rbp), %r8
  movq $0, %r8
  setg %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -112(%rbp)
  jmp main_lbl3

main_lbl20:
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -112(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -112(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -112(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -120(%rbp), %rax
  movq -120(%rbp), %r8
  cmpq $0, %r8
  movq $1, %r9
  cmoveq %r9, %r8
  movq $0, %r9
  cmoveq %r9, %rax
  cqo
  idivq %r8
  movq %rax, -88(%rbp)
  movq -88(%rbp), %rax
  jmp main_epilogue

main_lbl3:
  movq -80(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl20
  jmp main_lbl19

main_lbl4:
  movq -16(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -112(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -88(%rbp)
  movq -16(%rbp), %rax
  movq -88(%rbp), %r8
  cmpq $0, %r8
  movq $1, %r9
  cmoveq %r9, %r8
  movq $0, %r9
  cmoveq %r9, %rax
  cqo
  idivq %r8
  movq %rax, -96(%rbp)
  movq -112(%rbp), %r8
  subq -96(%rbp), %r8
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  cmpq $0, %r8
  jne main_lbl7
  jmp main_lbl8

main_lbl5:
  jmp main_lbl6

main_lbl6:
  movq -16(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -40(%rbp), %r8
  cmpq -112(%rbp), %r8
  movq $0, %r8
  setge %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -16(%rbp)
  jmp main_lbl13

main_lbl7:
  movq -112(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -112(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -72(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -16(%rbp), %r8
  cmpq -112(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -88(%rbp)
  movq -88(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  movq %r8, -16(%rbp)
  jmp main_lbl9

main_lbl8:
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -112(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -120(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -120(%rbp), %rax
  jmp main_epilogue

main_lbl9:
  movq -24(%rbp), %r8
  subq -120(%rbp), %r8
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -88(%rbp)
  movq -112(%rbp), %r8
  cmpq -88(%rbp), %r8
  movq $0, %r8
  setne %r8b
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  movq %r8, -120(%rbp)
  movq -16(%rbp), %r8
  cmpq -24(%rbp), %r8
  movq $0, %r8
  sete %r8b
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  movq %r8, -112(%rbp)
  movq -16(%rbp), %r8
  movq %r8, -16(%rbp)
  movq -120(%rbp), %r8
  cmpq -112(%rbp), %r8
  movq $0, %r8
  setle %r8b
  movq %r8, -96(%rbp)
  movq -96(%rbp), %r8
  movq %r8, -112(%rbp)
  jmp main_lbl10

main_epilogue:
  movq %rbp, %rsp
  popq %rbp
  ret

.out_of_bounds:
  lea out_of_bounds_msg(%rip), %rdi
  call _cflat_panic

.invalid_alloc_length:
  lea invalid_alloc_msg(%rip), %rdi
  call _cflat_panic
        
